<!-- Envuelve todo en un contenedor principal para el fondo -->
<div class="auth-wrapper">
  <!-- El <table> se mantiene, pero aplicamos estilos a sus elementos internos -->
  <table width="100%" height="100%" class="registration-table">
    <tr>
      <td align="center" valign="middle">
        <div class="registration-card">
          <div class="brand">
            <img src="https://cdn-icons-png.flaticon.com/512/69/69906.png" alt="WorldTrek Logo" />
            <h2>WorldTrek</h2>
            <p class="subtitle">Únete a nuestra aventura global 🌍✈️</p>
          </div>

          <h3>Registro</h3>
          <form [formGroup]="registroForm" (ngSubmit)="registrar()">

            <div class="input-group">
              <label for="username">Nombre de usuario:</label>
              <input type="text" id="username" formControlName="username" placeholder="Ingresa tu usuario" required>
              <div class="error" *ngIf="registroForm.get('username')?.touched && registroForm.get('username')?.invalid">
                <small *ngIf="registroForm.get('username')?.errors?.['required']">El usuario es obligatorio</small>
              </div>
            </div>

            <div class="input-group">
              <label for="email">Correo electrónico:</label>
              <input type="email" id="email" formControlName="email" placeholder="Ingresa tu correo" required>
              <div class="error" *ngIf="registroForm.get('email')?.touched && registroForm.get('email')?.invalid">
                <small *ngIf="registroForm.get('email')?.errors?.['required']">El correo es obligatorio</small>
                <small *ngIf="registroForm.get('email')?.errors?.['email']">Correo no válido</small>
              </div>
            </div>

            <div class="input-group">
              <label for="password">Contraseña:</label>
              <input type="password" id="password" formControlName="password" placeholder="Ingresa tu contraseña" required>
              <div class="error" *ngIf="registroForm.get('password')?.touched && registroForm.get('password')?.invalid">
                <small *ngIf="registroForm.get('password')?.errors?.['required']">La contraseña es obligatoria</small>
                <small *ngIf="registroForm.get('password')?.errors?.['minlength']">
                  La contraseña debe tener al menos 6 caracteres
                </small>
              </div>
            </div>

            <div class="input-group">
              <label for="confirmPassword">Confirmar contraseña:</label>
              <input type="password" id="confirmPassword" formControlName="confirmPassword" placeholder="Repite tu contraseña" required>
              <div class="error" *ngIf="registroForm.get('confirmPassword')?.touched && registroForm.get('confirmPassword')?.invalid">
                <small *ngIf="registroForm.get('confirmPassword')?.errors?.['required']">
                  La confirmación de contraseña es obligatoria
                </small>
              </div>
              <div class="error" *ngIf="registroForm.get('confirmPassword')?.touched && registroForm.errors?.['passwordMismatch']">
                <small>Las contraseñas no coinciden</small>
              </div>
            </div>

            <button type="submit" class="btn-register" [disabled]="!registroForm.valid">Registrarse</button>
          </form>

          <p class="login-text">
            ¿Ya tienes cuenta?
            <a routerLink="/autenticacion/login">Inicia sesión</a>
          </p>
        </div>
      </td>
    </tr>
  </table>
</div>

<style>
  .auth-wrapper {
    margin: 0;
    font-family: 'Google Sans', 'Roboto', sans-serif;
    background: url('https://th.bing.com/th/id/R.7e2f76ea40c845743e119c877fc7b23c?rik=vLVczXfH9wkQAQ&pid=ImgRaw&r=0') no-repeat center center/cover;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0.1rem;
    box-sizing: border-box;
  }

  .registration-table {
    border-collapse: collapse;
  }

  .registration-card {
    background: rgba(255, 255, 255, 0.98);
    padding: 2rem;
    border-radius: 20px; 
    max-width: 400px;
    width: 100%;
    box-shadow: 0px 8px 25px rgba(0,0,0,0.2);
    text-align: center;
    backdrop-filter: blur(8px); 
    animation: fadeIn 0.7s ease-in-out; 
    border: 1px solid #e0e0e0; 
  }
  .brand img {
    width: 40px; 
    height: 40px;
    margin-bottom: 0.5rem; 
  }

  .brand h2 {
    margin: 0 0 0.2rem;
    font-size: 1.2rem; 
    color: #2c3e50; 
    font-weight: 700;
    font-family: 'Google Sans', 'Roboto', sans-serif; 
  }

  .subtitle {
    margin: 0;
    font-size: 0.9rem; 
    color: #777; 
    margin-bottom: 1.5rem;
  }

  h3 {
    margin-top: 1.5rem;
    margin-bottom: 1rem;
    font-size: 1.3rem; 
    color: #333;
    font-weight: 600;
    font-family: 'Google Sans', 'Roboto', sans-serif; 
  }

  .input-group {
    margin-bottom: 1.2rem;
    text-align: left;
  }

    .input-group label {
      font-size: 0.9rem;
      font-weight: 600;
      color: #444;
      display: block;
      margin-bottom: 0.4rem;
    }

    .input-group input {
      width: 100%;
      padding: 0.8rem; 
      border-radius: 10px; 
      border: 1px solid #ddd;
      outline: none;
      font-size: 1rem; 
      color: #202124;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      box-sizing: border-box; 
    }

      .input-group input:focus {
        border-color: #4cafef; 
        box-shadow: 0px 0px 0px 3px rgba(76, 175, 239, 0.2); 
        background-color: #fcfdff; 
      }

  
  .btn-register {
    width: 100%;
    padding: 0.9rem; 
    border: none;
    border-radius: 10px; 
    background: linear-gradient(135deg, #1a73e8, #4285f4); 
    color: white;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.3s ease;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    margin-top: 0.5rem; 
  }

    .btn-register:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      background: linear-gradient(135deg, #1760c3, #3b78e7);
    }

    .btn-register:disabled {
      background: #dadce0; 
      cursor: not-allowed;
      box-shadow: none;
      transform: none;
      color: #9aa0a6;
    }

  .error {
    color: #ea4335; 
    font-size: 0.85rem;
    margin-top: 0.3rem;
    text-align: left;
    display: block; 
  }

  .login-text {
    margin-top: 1.2rem; 
    font-size: 0.9rem;
    color: #555;
  }

    .login-text a {
      color: #1a73e8;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s ease;
    }

      .login-text a:hover {
        text-decoration: underline;
        color: #1760c3;
      }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 500px) {
    .registration-card {
      padding: 2rem 1.5rem; 
      border-radius: 16px;
    }

    .brand h2 {
      font-size: 1.5rem;
    }

    h3 {
      font-size: 1.2rem;
    }

    .input-group input {
      padding: 0.7rem;
    }

    .btn-register {
      padding: 0.8rem;
      font-size: 0.9rem;
    }
  }
</style>
