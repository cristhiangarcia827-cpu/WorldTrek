<!-- Envuelve todo en un contenedor principal para el fondo -->
<div class="auth-wrapper">
  <!-- El <table> se mantiene, pero aplicamos estilos a sus elementos internos -->
  <table width="100%" height="100%" class="registration-table">
    <tr>
      <td align="center" valign="middle">
        <div class="registration-card">
          <div class="brand">
            <img src="https://cdn-icons-png.flaticon.com/512/69/69906.png" alt="WorldTrek Logo" />
            <h2>WorldTrek</h2>
            <p class="subtitle">Únete a nuestra aventura global 🌍✈️</p>
          </div>

          <h3>Registro</h3>
          <form [formGroup]="registroForm" (ngSubmit)="registrar()">

            <!-- USERNAME -->
            <div class="input-group">
              <label for="username">Nombre de usuario:</label>
              <input type="text" id="username" formControlName="username" placeholder="Ingresa tu usuario" required>
              <div class="error" *ngIf="registroForm.get('username')?.touched && registroForm.get('username')?.invalid">
                <small *ngIf="registroForm.get('username')?.errors?.['required']">El usuario es obligatorio</small>
              </div>
            </div>

            <!-- EMAIL -->
            <div class="input-group">
              <label for="email">Correo electrónico:</label>
              <input type="email" id="email" formControlName="email" placeholder="Ingresa tu correo" required>
              <div class="error" *ngIf="registroForm.get('email')?.touched && registroForm.get('email')?.invalid">
                <small *ngIf="registroForm.get('email')?.errors?.['required']">El correo es obligatorio</small>
                <small *ngIf="registroForm.get('email')?.errors?.['email']">Correo no válido</small>
              </div>
            </div>

            <!-- PASSWORD -->
            <div class="input-group">
              <label for="password">Contraseña:</label>
              <input type="password" id="password" formControlName="password" placeholder="Ingresa tu contraseña" required>
              <div class="error" *ngIf="registroForm.get('password')?.touched && registroForm.get('password')?.invalid">
                <small *ngIf="registroForm.get('password')?.errors?.['required']">La contraseña es obligatoria</small>
                <small *ngIf="registroForm.get('password')?.errors?.['minlength']">
                  La contraseña debe tener al menos 6 caracteres
                </small>
              </div>
            </div>

            <!-- CONFIRM PASSWORD -->
            <div class="input-group">
              <label for="confirmPassword">Confirmar contraseña:</label>
              <input type="password" id="confirmPassword" formControlName="confirmPassword" placeholder="Repite tu contraseña" required>
              <div class="error" *ngIf="registroForm.get('confirmPassword')?.touched && registroForm.get('confirmPassword')?.invalid">
                <small *ngIf="registroForm.get('confirmPassword')?.errors?.['required']">
                  La confirmación de contraseña es obligatoria
                </small>
              </div>
              <div class="error" *ngIf="registroForm.get('confirmPassword')?.touched && registroForm.errors?.['passwordMismatch']">
                <small>Las contraseñas no coinciden</small>
              </div>
            </div>

            <button type="submit" class="btn-register" [disabled]="!registroForm.valid">Registrarse</button>
          </form>

          <p class="login-text">
            ¿Ya tienes cuenta?
            <a routerLink="/autenticacion/login">Inicia sesión</a>
          </p>
        </div>
      </td>
    </tr>
  </table>
</div>

<!-- === CSS INTEGRADO PARA REGISTRO === -->
<style>
  /* === GLOBALES PARA AUTENTICACIÓN === */
  .auth-wrapper {
    margin: 0;
    font-family: 'Google Sans', 'Roboto', sans-serif;
    /* Un fondo más claro y vibrante, similar al del login */
    background: url('https://th.bing.com/th/id/R.7e2f76ea40c845743e119c877fc7b23c?rik=vLVczXfH9wkQAQ&pid=ImgRaw&r=0') no-repeat center center/cover;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0.1rem;
    box-sizing: border-box;
  }

  /* El <table> en sí mismo, para asegurar que abarque el 100% como lo tenías */
  .registration-table {
    border-collapse: collapse; /* Elimina espacios entre celdas */
  }

  /* La tarjeta de registro, estilizada para parecerse al login-card */
  .registration-card {
    background: rgba(255, 255, 255, 0.98); /* Fondo casi blanco para mayor legibilidad */
    padding: 2rem; /* Padding igual al login-card */
    border-radius: 20px; /* Bordes redondeados como el login-card */
    max-width: 400px; /* Ancho similar al login-card */
    width: 100%;
    box-shadow: 0px 8px 25px rgba(0,0,0,0.2); /* Sombra igual al login-card */
    text-align: center;
    backdrop-filter: blur(8px); /* Efecto de desenfoque */
    animation: fadeIn 0.7s ease-in-out; /* Animación de entrada */
    border: 1px solid #e0e0e0; /* Borde sutil */
  }

  .brand img {
    width: 40px; /* Tamaño del logo igual al login-card */
    height: 40px;
    margin-bottom: 0.5rem; /* Espacio debajo del logo */
  }

  .brand h2 {
    margin: 0 0 0.2rem;
    font-size: 1.2rem; /* Tamaño de título igual al login-card */
    color: #2c3e50; /* Color de título */
    font-weight: 700;
    font-family: 'Google Sans', 'Roboto', sans-serif; /* Usar fuente Google */
  }

  .subtitle {
    margin: 0;
    font-size: 0.9rem; /* Tamaño de subtítulo igual al login-card */
    color: #777; /* Color de subtítulo */
    margin-bottom: 1.5rem;
  }

  h3 {
    margin-top: 1.5rem;
    margin-bottom: 1rem;
    font-size: 1.3rem; /* Tamaño de "Registro" igual al "Iniciar Sesión" */
    color: #333;
    font-weight: 600;
    font-family: 'Google Sans', 'Roboto', sans-serif; /* Usar fuente Google */
  }

  /* === INPUT GROUPS === */
  .input-group {
    margin-bottom: 1.2rem; /* Espacio entre grupos de input */
    text-align: left;
  }

    .input-group label {
      font-size: 0.9rem; /* Tamaño de etiqueta igual al login-card */
      font-weight: 600;
      color: #444;
      display: block; /* Asegura que la etiqueta esté en su propia línea */
      margin-bottom: 0.4rem;
    }

    .input-group input {
      width: 100%;
      padding: 0.8rem; /* Padding interno igual al login-card */
      border-radius: 10px; /* Bordes redondeados igual al login-card */
      border: 1px solid #ddd;
      outline: none;
      font-size: 1rem; /* Fuente igual al login-card */
      color: #202124;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      box-sizing: border-box; /* Fundamental para que el padding no desborde */
    }

      .input-group input:focus {
        border-color: #4cafef; /* Azul de enfoque del login-card */
        box-shadow: 0px 0px 0px 3px rgba(76, 175, 239, 0.2); /* Sombra de enfoque sutil */
        background-color: #fcfdff; /* Fondo ligeramente azulado al enfocar */
      }

  /* === BOTÓN DE REGISTRO === */
  .btn-register {
    width: 100%;
    padding: 0.9rem; /* Padding igual al btn-login */
    border: none;
    border-radius: 10px; /* Bordes redondeados igual al btn-login */
    background: linear-gradient(135deg, #1a73e8, #4285f4); /* Degradado azul de Google */
    color: white;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.3s ease;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    margin-top: 0.5rem; /* Para separar un poco de los inputs */
  }

    .btn-register:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      background: linear-gradient(135deg, #1760c3, #3b78e7);
    }

    .btn-register:disabled {
      background: #dadce0; /* Gris Google para deshabilitado */
      cursor: not-allowed;
      box-shadow: none;
      transform: none;
      color: #9aa0a6;
    }

  /* === MENSAJES DE ERROR === */
  .error {
    color: #ea4335; /* Rojo de error de Google */
    font-size: 0.85rem;
    margin-top: 0.3rem;
    text-align: left;
    display: block; /* Asegura que el mensaje de error ocupe su propia línea */
  }

  /* === TEXTO DE LOGIN === */
  .login-text {
    margin-top: 1.2rem; /* Espacio superior igual al register-text del login */
    font-size: 0.9rem;
    color: #555;
  }

    .login-text a {
      color: #1a73e8; /* Azul de Google para enlaces */
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s ease;
    }

      .login-text a:hover {
        text-decoration: underline;
        color: #1760c3;
      }

  /* === ANIMACIONES === */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* === RESPONSIVE === */
  @media (max-width: 500px) {
    .registration-card {
      padding: 2rem 1.5rem; /* Ajustar padding en móvil */
      border-radius: 16px;
    }

    .brand h2 {
      font-size: 1.5rem;
    }

    h3 {
      font-size: 1.2rem;
    }

    .input-group input {
      padding: 0.7rem;
    }

    .btn-register {
      padding: 0.8rem;
      font-size: 0.9rem;
    }
  }
</style>
