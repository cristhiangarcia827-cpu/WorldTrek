<h1>Mis Viajes</h1>

<!-- Botón para crear nuevo viaje -->
<button (click)="nuevoViaje()">Nuevo viaje</button>

<!-- Filtro de estado -->
<div class="filtro">
    <label>Filtrar por estado:</label>
    <button (click)="aplicarFiltro('Todo')">Todos</button>
    <button (click)="aplicarFiltro('Planificado')">Planificado</button>
    <button (click)="aplicarFiltro('Completado')">Completado</button>
</div>

<!-- Formulario de nuevo/editar viaje -->
@if(mostrarFormulario){
<div>
    <nuevo-viaje [viajeEditar]="viajeSeleccionado" (ngSubmit)="cerrarFormulario()">
    </nuevo-viaje>
    <button (click)="cerrarFormulario()">Cancelar</button>
</div>
}

<!-- Lista de viajes -->
@for (viaje of viajes(); track viaje.id) {
<div class="viaje-card">
    <h2>{{ viaje.titulo }}</h2>
    <p>Destino: {{ viaje.paisDestino }}</p>
    <p>Fecha inicio: {{ viaje.fechaInicio | date:'mediumDate' }}</p>
    <p>Fecha fin: {{ viaje.fechaFin | date:'mediumDate' }}</p>
    <p>Descripción: {{ viaje.descripcion }}</p>
    <p>Estado: {{ viaje.estado }}</p>
    <button (click)="editarViaje(viaje)">Editar</button>
    <button (click)="eliminarViaje(viaje.id!)">Eliminar</button>
</div>
}