<title>Mis Viajes</title>

<body>
  <div class="viajes-wrapper">
    <h1>‚úàÔ∏è Mis Viajes</h1>

    <!-- Bot√≥n para crear nuevo viaje -->
    <button class="nuevo-viaje-btn" (click)="nuevoViaje()">+ Nuevo viaje</button>

    <!-- Filtro de estado -->
    <div class="filtro">
      <label>Filtrar por estado:</label>
      <div class="filtro-btns">
        <button (click)="aplicarFiltro('Todo')">Todos</button>
        <button (click)="aplicarFiltro('Planificado')">Planificado</button>
        <button (click)="aplicarFiltro('Completado')">Completado</button>
      </div>
    </div>

    <!-- Formulario de nuevo/editar viaje -->
    @if(mostrarFormulario){
    <div class="formulario-container">
      <nuevo-viaje [viajeEditar]="viajeSeleccionado" (ngSubmit)="cerrarFormulario()">
      </nuevo-viaje>
      <button class="cancelar-btn" (click)="cerrarFormulario()">Cancelar</button>
    </div>
    }

    <!-- Lista de viajes -->
    <div class="viajes-grid">
      @for (viaje of viajes(); track viaje.id) {
      <div class="viaje-card">
        <h2>{{ viaje.titulo }}</h2>
        <p><span>üåç Destino:</span> {{ viaje.paisDestino }}</p>
        <p><span>üìÖ Inicio:</span> {{ viaje.fechaInicio | date:'mediumDate' }}</p>
        <p><span>üìÖ Fin:</span> {{ viaje.fechaFin | date:'mediumDate' }}</p>
        <p><span>üìù Descripci√≥n:</span> {{ viaje.descripcion }}</p>
        <p><strong>Estado:</strong> <span class="estado {{ viaje.estado | lowercase }}">{{ viaje.estado }}</span></p>
        <div class="acciones">
          <button class="editar-btn" (click)="editarViaje(viaje)">Editar</button>
          <button class="eliminar-btn" (click)="eliminarViaje(viaje.id!)">Eliminar</button>
        </div>
      </div>
      }
    </div>
  </div>
</body>

<style>
  /* ===== GLOBALES ===== */
  html,
  body {
    margin: 0;
    padding: 0;
    font-family: 'Google Sans', 'Roboto', sans-serif;
    background: linear-gradient(135deg, #e3f2fd 0%, #f5f7fa 100%);
    min-height: 100vh;
    color: #202124;
  }

  .viajes-wrapper {
    max-width: 1000px;
    margin: 0 auto;
    padding: 2rem;
  }

  h1 {
    text-align: center;
    color: #1a73e8;
    margin-bottom: 2rem;
    font-size: 2.4rem;
    font-weight: 700;
  }

  /* ===== BOTONES ===== */
  button {
    background: #1a73e8;
    color: #fff;
    border: none;
    padding: 10px 18px;
    margin: 6px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 600;
    transition: background 0.3s ease, transform 0.1s ease;
  }

    button:hover {
      background: #1760c3;
      transform: translateY(-2px);
    }

    button:active {
      transform: translateY(1px);
    }

  .nuevo-viaje-btn {
    display: block;
    margin: 0 auto 30px auto;
    background: linear-gradient(135deg, #34a853, #0f9d58);
  }

    .nuevo-viaje-btn:hover {
      background: #0f9d58;
    }

  .cancelar-btn {
    background: #9aa0a6;
    margin-top: 10px;
  }

    .cancelar-btn:hover {
      background: #70757a;
    }

  .editar-btn {
    background: #fbbc05;
    color: #202124;
  }

    .editar-btn:hover {
      background: #e6a700;
    }

  .eliminar-btn {
    background: #ea4335;
  }

    .eliminar-btn:hover {
      background: #c5221f;
    }

  /* ===== FILTRO ===== */
  .filtro {
    text-align: center;
    margin-bottom: 20px;
  }

    .filtro label {
      margin-right: 10px;
      font-weight: 600;
      color: #3c4043;
    }

  .filtro-btns {
    display: inline-flex;
    gap: 10px;
  }

  .filtro button {
    background: #dadce0;
    color: #202124;
  }

    .filtro button:hover {
      background: #c7c9cc;
    }

  /* ===== FORMULARIO ===== */
  .formulario-container {
    max-width: 700px;
    margin: 25px auto;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border-radius: 14px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
    text-align: center;
  }

  /* ===== GRID DE VIAJES ===== */
  .viajes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .viaje-card {
    background: #fff;
    border-radius: 14px;
    padding: 1.5rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

    .viaje-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    .viaje-card h2 {
      color: #202124;
      font-size: 1.4rem;
      margin-bottom: 10px;
    }

    .viaje-card p {
      margin: 6px 0;
      font-size: 0.95rem;
      color: #5f6368;
    }

      .viaje-card p span {
        font-weight: 600;
        color: #202124;
      }

  .estado {
    font-weight: 700;
    padding: 2px 8px;
    border-radius: 6px;
  }

    .estado.planificado {
      background: #e8f0fe;
      color: #1a73e8;
    }

    .estado.completado {
      background: #e6f4ea;
      color: #34a853;
    }

  .acciones {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 15px;
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 600px) {
    h1 {
      font-size: 1.9rem;
    }

    .viaje-card h2 {
      font-size: 1.2rem;
    }

    button {
      font-size: 13px;
      padding: 8px 14px;
    }
  }
</style>
